var dbg="undefined"!=typeof console?function(e){console.log("Readability: "+e)}:function(){},readability={version:"1.7.1",emailSrc:"http://lab.arc90.com/experiments/readability/email.php",iframeLoads:0,convertLinksToFootnotes:!1,reversePageScroll:!1,frameHack:!1,biggestFrame:!1,bodyCache:null,flags:7,FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,maxPages:30,parsedPages:{},pageETags:{},regexps:{unlikelyCandidates:/combx|comment|community|disqus|extra|foot|header|menu|remark|rss|shoutbox|sidebar|sponsor|ad-break|agegate|pagination|pager|popup|tweet|twitter/i,okMaybeItsACandidate:/and|article|body|column|main|shadow/i,positive:/article|body|content|entry|hentry|main|page|pagination|post|text|blog|story/i,negative:/combx|comment|com-|contact|foot|footer|footnote|masthead|media|meta|outbrain|promo|related|scroll|shoutbox|sidebar|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single/i,divToPElements:/<(a|blockquote|dl|div|img|ol|p|pre|table|ul)/i,replaceBrs:/(<br[^>]*>[ \n\r\t]*){2,}/gi,replaceFonts:/<(\/?)font[^>]*>/gi,trim:/^\s+|\s+$/g,normalize:/\s{2,}/g,killBreaks:/(<br\s*\/?>(\s|&nbsp;?)*){1,}/g,videos:/http:\/\/(www\.)?(youtube|vimeo)\.com/i,skipFootnoteLink:/^\s*(\[?[a-z0-9]{1,2}\]?|^|edit|citation needed)\s*$/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i},init:function(){window.onload=window.onunload=function(){},readability.removeScripts(document),document.body&&!readability.bodyCache&&(readability.bodyCache=document.body.innerHTML),readability.parsedPages[window.location.href.replace(/\/$/,"")]=!0;var e=readability.findNextPageLink(document.body);readability.prepDocument();var t=document.createElement("DIV"),a=document.createElement("DIV"),i=readability.getArticleTools(),r=readability.getArticleTitle(),n=readability.grabArticle(),l=readability.getArticleFooter();if(n||(n=document.createElement("DIV"),n.id="readability-content",n.innerHTML=["<p>Sorry, readability was unable to parse this page for content. If you feel like it should have been able to, please <a href='http://code.google.com/p/arc90labs-readability/issues/entry'>let us know by submitting an issue.</a></p>",readability.frameHack?"<p><strong>It appears this page uses frames.</strong> Unfortunately, browser security properties often cause Readability to fail on pages that include frames. You may want to try running readability itself on this source page: <a href='"+readability.biggestFrame.src+"'>"+readability.biggestFrame.src+"</a></p>":"","<p>Also, please note that Readability does not play very nicely with front pages. Readability is intended to work on articles with a sizable chunk of text that you'd like to read comfortably. If you're using Readability on a landing page (like nytimes.com for example), please click into an article first before using Readability.</p>"].join(""),e=null),t.id="readOverlay",a.id="readInner",document.body.className=readStyle,document.dir=readability.getSuggestedDirection(r.innerHTML),"style-athelas"===readStyle||"style-apertura"===readStyle?t.className=readStyle+" rdbTypekit":t.className=readStyle,a.className=readMargin+" "+readSize,"undefined"!=typeof readConvertLinksToFootnotes&&readConvertLinksToFootnotes===!0&&(readability.convertLinksToFootnotes=!0),a.appendChild(r),a.appendChild(n),a.appendChild(l),t.appendChild(i),t.appendChild(a),document.body.innerHTML="",document.body.insertBefore(t,document.body.firstChild),document.body.removeAttribute("style"),readability.frameHack){var o=document.getElementById("readOverlay");o.style.height="100%",o.style.overflow="auto"}if(window.location.protocol+"//"+window.location.host+"/"===window.location.href){n.style.display="none";var d=document.createElement("p");d.id="readability-warning",d.innerHTML='<em>Readability</em> was intended for use on individual articles and not home pages. If you\'d like to try rendering this page anyway, <a onClick=\'javascript:document.getElementById("readability-warning").style.display="none";document.getElementById("readability-content").style.display="block";\'>click here</a> to continue.',a.insertBefore(d,n)}readability.postProcessContent(n),window.scrollTo(0,0),("style-athelas"===readStyle||"style-apertura"===readStyle)&&readability.useRdbTypekit(),e&&window.setTimeout(function(){readability.appendNextPage(e)},500),document.onkeydown=function(e){var t=window.event?event.keyCode:e.keyCode;if(16===t)return void(readability.reversePageScroll=!0);if(32===t){readability.curScrollStep=0;var a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return readability.reversePageScroll?readability.scrollTo(readability.scrollTop(),readability.scrollTop()-(a-50),20,10):readability.scrollTo(readability.scrollTop(),readability.scrollTop()+(a-50),20,10),!1}},document.onkeyup=function(e){var t=window.event?event.keyCode:e.keyCode;return 16===t?void(readability.reversePageScroll=!1):void 0}},postProcessContent:function(e){readability.convertLinksToFootnotes&&!window.location.href.match(/wikipedia\.org/g)&&readability.addFootnotes(e),readability.fixImageFloats(e)},fixImageFloats:function(e){for(var t=.55*Math.min(e.offsetWidth,800),a=e.getElementsByTagName("img"),i=0,r=a.length;r>i;i+=1){var n=a[i];n.offsetWidth>t&&(n.className+=" blockImage")}},getArticleTools:function(){var e=document.createElement("DIV");return e.id="readTools",e.innerHTML="<a href='#' onclick='return window.location.reload()' title='Reload original page' id='reload-page'>Reload Original Page</a><a href='#' onclick='javascript:window.print();' title='Print page' id='print-page'>Print Page</a>",e},getSuggestedDirection:function(e){function t(){return e.replace(/@\w+/,"")}function a(t){var a=e.match(new RegExp(t,"g"));return null!==a?a.length:0}function i(){var t=a("[\\u05B0-\\u05F4\\uFB1D-\\uFBF4]"),i=a("[\\u060C-\\u06FE\\uFB50-\\uFEFC]");return 100*(t+i)/e.length>20}return e=t(e),i()?"rtl":"ltr"},getArticleTitle:function(){var e="",t="";try{e=t=document.title,"string"!=typeof e&&(e=t=readability.getInnerText(document.getElementsByTagName("title")[0]))}catch(a){}if(e.match(/ [\|\-] /))e=t.replace(/(.*)[\|\-] .*/gi,"$1"),e.split(" ").length<3&&(e=t.replace(/[^\|\-]*[\|\-](.*)/gi,"$1"));else if(-1!==e.indexOf(": "))e=t.replace(/.*:(.*)/gi,"$1"),e.split(" ").length<3&&(e=t.replace(/[^:]*[:](.*)/gi,"$1"));else if(e.length>150||e.length<15){var i=document.getElementsByTagName("h1");1===i.length&&(e=readability.getInnerText(i[0]))}e=e.replace(readability.regexps.trim,""),e.split(" ").length<=4&&(e=t);var r=document.createElement("H1");return r.innerHTML=e,r},getArticleFooter:function(){var e=document.createElement("DIV");return e.id="readFooter",e.innerHTML=["<div id='rdb-footer-print'>Excerpted from <cite>"+document.title+"</cite><br />"+window.location.href+"</div>","<div id='rdb-footer-wrapper'>","<div id='rdb-footer-left'>","<a href='http://lab.arc90.com/experiments/readability' id='readability-logo'>Readability &mdash;&nbsp;</a>","<a href='http://www.arc90.com/' id='arc90-logo'> An Arc90 Laboratory Experiment&nbsp;</a>"," <span id='readability-url'> http://lab.arc90.com/experiments/readability</span>","</div>","<div id='rdb-footer-right'>","<a href='http://www.twitter.com/arc90' class='footer-twitterLink'>Follow us on Twitter &raquo;</a>","<span class='version'>Readability version "+readability.version+"</span>","</div>","</div>"].join(""),e},prepDocument:function(){if(null===document.body){var e=document.createElement("body");try{document.body=e}catch(t){document.documentElement.appendChild(e),dbg(t)}}document.body.id="readabilityBody";var a=document.getElementsByTagName("frame");if(a.length>0){for(var i=null,r=0,n=0,l=0;l<a.length;l+=1){var o=a[l].offsetWidth+a[l].offsetHeight,d=!1;try{a[l].contentWindow.document.body;d=!0}catch(s){dbg(s)}o>n&&(n=o,readability.biggestFrame=a[l]),d&&o>r&&(readability.frameHack=!0,i=a[l],r=o)}if(i){var c=document.createElement("body");c.innerHTML=i.contentWindow.document.body.innerHTML,c.style.overflow="scroll",document.body=c;var y=document.getElementsByTagName("frameset")[0];y&&y.parentNode.removeChild(y)}}for(var g=0;g<document.styleSheets.length;g+=1)null!==document.styleSheets[g].href&&-1===document.styleSheets[g].href.lastIndexOf("readability")&&(document.styleSheets[g].disabled=!0);for(var p=document.getElementsByTagName("style"),m=0;m<p.length;m+=1)p[m].textContent="";document.body.innerHTML=document.body.innerHTML.replace(readability.regexps.replaceBrs,"</p><p>").replace(readability.regexps.replaceFonts,"<$1span>")},addFootnotes:function(e){var t=document.getElementById("readability-footnotes"),a=document.getElementById("readability-footnotes-list");if(!t){t=document.createElement("DIV"),t.id="readability-footnotes",t.innerHTML="<h3>References</h3>",t.style.display="none",a=document.createElement("ol"),a.id="readability-footnotes-list",t.appendChild(a);var i=document.getElementById("readFooter");i&&i.parentNode.insertBefore(t,i)}for(var r=e.getElementsByTagName("a"),n=a.getElementsByTagName("li").length,l=0;l<r.length;l+=1){var o=r[l],d=o.cloneNode(!0),s=document.createElement("a"),c=document.createElement("li"),y=d.host?d.host:document.location.host,g=readability.getInnerText(o);if(!(o.className&&-1!==o.className.indexOf("readability-DoNotFootnote")||g.match(readability.regexps.skipFootnoteLink))){n+=1,s.href="#readabilityFootnoteLink-"+n,s.innerHTML="<small><sup>["+n+"]</sup></small>",s.className="readability-DoNotFootnote";try{s.style.color="inherit"}catch(p){}o.parentNode.lastChild===o?o.parentNode.appendChild(s):o.parentNode.insertBefore(s,o.nextSibling),o.name="readabilityLink-"+n;try{o.style.color="inherit"}catch(m){}c.innerHTML="<small><sup><a href='#readabilityLink-"+n+"' title='Jump to Link in Article'>^</a></sup></small> ",d.innerHTML=d.title?d.title:g,d.name="readabilityFootnoteLink-"+n,c.appendChild(d),c.innerHTML=c.innerHTML+"<small> ("+y+")</small>",a.appendChild(c)}}n>0&&(t.style.display="block")},useRdbTypekit:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script"),a=null,i=document.createElement("a");i.setAttribute("class","rdbTK-powered"),i.setAttribute("title","Fonts by Typekit"),i.innerHTML="Fonts by <span class='rdbTK'>Typekit</span>","style-athelas"===readStyle&&(a="sxt6vzy",dbg("Using Athelas Theme"),i.setAttribute("href","http://typekit.com/?utm_source=readability&utm_medium=affiliate&utm_campaign=athelas"),i.setAttribute("id","rdb-athelas"),document.getElementById("rdb-footer-right").appendChild(i)),"style-apertura"===readStyle&&(a="bae8ybu",dbg("Using Inverse Theme"),i.setAttribute("href","http://typekit.com/?utm_source=readability&utm_medium=affiliate&utm_campaign=inverse"),i.setAttribute("id","rdb-inverse"),document.getElementById("rdb-footer-right").appendChild(i)),t.setAttribute("type","text/javascript"),t.setAttribute("src","http://use.typekit.com/"+a+".js"),t.setAttribute("charset","UTF-8"),e.appendChild(t);var r=function(){if(dbg("Looking for Typekit."),"undefined"!=typeof Typekit)try{dbg("Caught typekit"),Typekit.load(),clearInterval(window.typekitInterval)}catch(e){dbg("Typekit error: "+e)}};window.typekitInterval=window.setInterval(r,100)},prepArticle:function(e){readability.cleanStyles(e),readability.killBreaks(e),readability.cleanConditionally(e,"form"),readability.clean(e,"object"),readability.clean(e,"h1"),1===e.getElementsByTagName("h2").length&&readability.clean(e,"h2"),readability.clean(e,"iframe"),readability.cleanHeaders(e),readability.cleanConditionally(e,"table"),readability.cleanConditionally(e,"ul"),readability.cleanConditionally(e,"div");for(var t=e.getElementsByTagName("p"),a=t.length-1;a>=0;a-=1){var i=t[a].getElementsByTagName("img").length,r=t[a].getElementsByTagName("embed").length,n=t[a].getElementsByTagName("object").length;0===i&&0===r&&0===n&&""===readability.getInnerText(t[a],!1)&&t[a].parentNode.removeChild(t[a])}try{e.innerHTML=e.innerHTML.replace(/<br[^>]*>\s*<p/gi,"<p")}catch(l){dbg("Cleaning innerHTML of breaks failed. This is an IE strict-block-elements bug. Ignoring.: "+l)}},initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=readability.getClassWeight(e)},grabArticle:function(e){var t=readability.flagIsActive(readability.FLAG_STRIP_UNLIKELYS),a=null!==e?!0:!1;e=e?e:document.body;for(var i=e.innerHTML,r=e.getElementsByTagName("*"),n=null,l=[],o=0;n=r[o];o+=1){if(t){var d=n.className+n.id;if(-1!==d.search(readability.regexps.unlikelyCandidates)&&-1===d.search(readability.regexps.okMaybeItsACandidate)&&"BODY"!==n.tagName){dbg("Removing unlikely candidate - "+d),n.parentNode.removeChild(n),o-=1;continue}}if(("P"===n.tagName||"TD"===n.tagName||"PRE"===n.tagName)&&(l[l.length]=n),"DIV"===n.tagName)if(-1===n.innerHTML.search(readability.regexps.divToPElements)){var s=document.createElement("p");try{s.innerHTML=n.innerHTML,n.parentNode.replaceChild(s,n),o-=1,l[l.length]=n}catch(c){dbg("Could not alter div to p, probably an IE restriction, reverting back to div.: "+c)}}else for(var y=0,g=n.childNodes.length;g>y;y+=1){var p=n.childNodes[y];if(3===p.nodeType){var m=document.createElement("p");m.innerHTML=p.nodeValue,m.style.display="inline",m.className="readability-styled",p.parentNode.replaceChild(m,p)}}}for(var b=[],u=0;u<l.length;u+=1){var f=l[u].parentNode,h=f?f.parentNode:null,v=readability.getInnerText(l[u]);if(f&&"undefined"!=typeof f.tagName&&!(v.length<25)){"undefined"==typeof f.readability&&(readability.initializeNode(f),b.push(f)),h&&"undefined"==typeof h.readability&&"undefined"!=typeof h.tagName&&(readability.initializeNode(h),b.push(h));var T=0;T+=1,T+=v.split(",").length,T+=Math.min(Math.floor(v.length/100),3),f.readability.contentScore+=T,h&&(h.readability.contentScore+=T/2)}}for(var N=null,L=0,w=b.length;w>L;L+=1)b[L].readability.contentScore=b[L].readability.contentScore*(1-readability.getLinkDensity(b[L])),dbg("Candidate: "+b[L]+" ("+b[L].className+":"+b[L].id+") with score "+b[L].readability.contentScore),(!N||b[L].readability.contentScore>N.readability.contentScore)&&(N=b[L]);(null===N||"BODY"===N.tagName)&&(N=document.createElement("DIV"),N.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(N),readability.initializeNode(N));var x=document.createElement("DIV");a&&(x.id="readability-content");for(var E=Math.max(10,.2*N.readability.contentScore),k=N.parentNode.childNodes,I=0,C=k.length;C>I;I+=1){var S=k[I],H=!1;if(S){dbg("Looking at sibling node: "+S+" ("+S.className+":"+S.id+")"+("undefined"!=typeof S.readability?" with score "+S.readability.contentScore:"")),dbg("Sibling has score "+(S.readability?S.readability.contentScore:"Unknown")),S===N&&(H=!0);var A=0;if(S.className===N.className&&""!==N.className&&(A+=.2*N.readability.contentScore),"undefined"!=typeof S.readability&&S.readability.contentScore+A>=E&&(H=!0),"P"===S.nodeName){var M=readability.getLinkDensity(S),B=readability.getInnerText(S),F=B.length;F>80&&.25>M?H=!0:80>F&&0===M&&-1!==B.search(/\.( |$)/)&&(H=!0)}if(H){dbg("Appending node: "+S);var P=null;if("DIV"!==S.nodeName&&"P"!==S.nodeName){dbg("Altering siblingNode of "+S.nodeName+" to div."),P=document.createElement("DIV");try{P.id=S.id,P.innerHTML=S.innerHTML}catch(D){dbg("Could not alter siblingNode to div, probably an IE restriction, reverting back to original."),P=S,I-=1,C-=1}}else P=S,I-=1,C-=1;P.className="",x.appendChild(P)}}}return readability.prepArticle(x),1===readability.curPageNum&&(x.innerHTML='<div id="readability-page-1" class="page">'+x.innerHTML+"</div>"),readability.getInnerText(x,!1).length<250?(e.innerHTML=i,readability.flagIsActive(readability.FLAG_STRIP_UNLIKELYS)?(readability.removeFlag(readability.FLAG_STRIP_UNLIKELYS),readability.grabArticle(e)):readability.flagIsActive(readability.FLAG_WEIGHT_CLASSES)?(readability.removeFlag(readability.FLAG_WEIGHT_CLASSES),readability.grabArticle(e)):readability.flagIsActive(readability.FLAG_CLEAN_CONDITIONALLY)?(readability.removeFlag(readability.FLAG_CLEAN_CONDITIONALLY),readability.grabArticle(e)):null):x},removeScripts:function(e){for(var t=e.getElementsByTagName("script"),a=t.length-1;a>=0;a-=1)("undefined"==typeof t[a].src||-1===t[a].src.indexOf("readability")&&-1===t[a].src.indexOf("typekit"))&&(t[a].nodeValue="",t[a].removeAttribute("src"),t[a].parentNode&&t[a].parentNode.removeChild(t[a]))},getInnerText:function(e,t){var a="";return"undefined"==typeof e.textContent&&"undefined"==typeof e.innerText?"":(t="undefined"==typeof t?!0:t,a="Microsoft Internet Explorer"===navigator.appName?e.innerText.replace(readability.regexps.trim,""):e.textContent.replace(readability.regexps.trim,""),t?a.replace(readability.regexps.normalize," "):a)},getCharCount:function(e,t){return t=t||",",readability.getInnerText(e).split(t).length-1},cleanStyles:function(e){e=e||document;var t=e.firstChild;if(e)for("function"==typeof e.removeAttribute&&"readability-styled"!==e.className&&e.removeAttribute("style");null!==t;)1===t.nodeType&&("readability-styled"!==t.className&&t.removeAttribute("style"),readability.cleanStyles(t)),t=t.nextSibling},getLinkDensity:function(e){for(var t=e.getElementsByTagName("a"),a=readability.getInnerText(e).length,i=0,r=0,n=t.length;n>r;r+=1)i+=readability.getInnerText(t[r]).length;return i/a},findBaseUrl:function(){for(var e=window.location.pathname.split("?")[0],t=e.split("/").reverse(),a=[],i="",r=0,n=t.length;n>r;r+=1){var l=t[r];-1!==l.indexOf(".")&&(i=l.split(".")[1],i.match(/[^a-zA-Z]/)||(l=l.split(".")[0])),-1!==l.indexOf(",00")&&(l=l.replace(",00","")),!l.match(/((_|-)?p[a-z]*|(_|-))[0-9]{1,2}$/i)||1!==r&&0!==r||(l=l.replace(/((_|-)?p[a-z]*|(_|-))[0-9]{1,2}$/i,""));var o=!1;2>r&&l.match(/^\d{1,2}$/)&&(o=!0),0===r&&"index"===l.toLowerCase()&&(o=!0),2>r&&l.length<3&&!t[0].match(/[a-z]/i)&&(o=!0),o||a.push(l)}return window.location.protocol+"//"+window.location.host+a.reverse().join("/")},findNextPageLink:function(e){for(var t={},a=e.getElementsByTagName("a"),i=readability.findBaseUrl(),r=0,n=a.length;n>r;r+=1){var l=a[r],o=a[r].href.replace(/#.*$/,"").replace(/\/$/,"");if(!(""===o||o===i||o===window.location.href||o in readability.parsedPages)&&window.location.host===o.split(/\/+/g)[1]){var d=readability.getInnerText(l);if(!(d.match(readability.regexps.extraneous)||d.length>25)){var s=o.replace(i,"");if(s.match(/\d/)){o in t?t[o].linkText+=" | "+d:t[o]={score:0,linkText:d,href:o};var c=t[o];0!==o.indexOf(i)&&(c.score-=25);var y=d+" "+l.className+" "+l.id;y.match(readability.regexps.nextLink)&&(c.score+=50),y.match(/pag(e|ing|inat)/i)&&(c.score+=25),y.match(/(first|last)/i)&&(c.linkText.match(readability.regexps.nextLink)||(c.score-=65)),(y.match(readability.regexps.negative)||y.match(readability.regexps.extraneous))&&(c.score-=50),y.match(readability.regexps.prevLink)&&(c.score-=200);for(var g=l.parentNode,p=!1,m=!1;g;){var b=g.className+" "+g.id;!p&&b&&b.match(/pag(e|ing|inat)/i)&&(p=!0,c.score+=25),!m&&b&&b.match(readability.regexps.negative)&&(b.match(readability.regexps.positive)||(c.score-=25,m=!0)),g=g.parentNode}(o.match(/p(a|g|ag)?(e|ing|ination)?(=|\/)[0-9]{1,2}/i)||o.match(/(page|paging)/i))&&(c.score+=25),o.match(readability.regexps.extraneous)&&(c.score-=15);var u=parseInt(d,10);u&&(1===u?c.score-=10:c.score+=Math.max(0,10-u))}}}}var f=null;for(var h in t)t.hasOwnProperty(h)&&t[h].score>=50&&(!f||f.score<t[h].score)&&(f=t[h]);if(f){var v=f.href.replace(/\/$/,"");return dbg("NEXT PAGE IS "+v),readability.parsedPages[v]=!0,v}return null},xhr:function(){if(!("undefined"==typeof XMLHttpRequest||"file:"===window.location.protocol&&window.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1},successfulRequest:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status&&e.responseText},ajax:function(e,t){function a(e){4===i.readyState&&(readability.successfulRequest(i)?t.success&&t.success(i):t.error&&t.error(i))}var i=readability.xhr();"undefined"==typeof t&&(t={}),i.onreadystatechange=a,i.open("get",e,!0),i.setRequestHeader("Accept","text/html");try{i.send(t.postBody)}catch(r){t.error&&t.error()}return i},curPageNum:1,appendNextPage:function(e){readability.curPageNum+=1;var t=document.createElement("DIV");if(t.id="readability-page-"+readability.curPageNum,t.className="page",t.innerHTML='<p class="page-separator" title="Page '+readability.curPageNum+'">&sect;</p>',document.getElementById("readability-content").appendChild(t),readability.curPageNum>readability.maxPages){var a="<div style='text-align: center'><a href='"+e+"'>View Next Page</a></div>";return void(t.innerHTML=t.innerHTML+a)}!function(e,a){readability.ajax(e,{success:function(i){var r=i.getResponseHeader("ETag");if(r){if(r in readability.pageETags)return dbg("Exact duplicate page found via ETag. Aborting."),void(t.style.display="none");readability.pageETags[r]=1}var n=document.createElement("DIV"),l=i.responseText.replace(/\n/g,"￿").replace(/<script.*?>.*?<\/script>/gi,"");l=l.replace(/\n/g,"￿").replace(/<script.*?>.*?<\/script>/gi,""),l=l.replace(/\uffff/g,"\n").replace(/<(\/?)noscript/gi,"<$1div"),l=l.replace(readability.regexps.replaceBrs,"</p><p>"),l=l.replace(readability.regexps.replaceFonts,"<$1span>"),n.innerHTML=l,readability.flags=7;var o=readability.findNextPageLink(n),d=readability.grabArticle(n);if(!d)return void dbg("No content found in page to append. Aborting.");var s=d.getElementsByTagName("P").length?d.getElementsByTagName("P")[0]:null;if(s&&s.innerHTML.length>100)for(var c=1;c<=readability.curPageNum;c+=1){var y=document.getElementById("readability-page-"+c);if(y&&-1!==y.innerHTML.indexOf(s.innerHTML))return dbg("Duplicate of page "+c+" - skipping."),t.style.display="none",void(readability.parsedPages[e]=!0)}readability.removeScripts(d),a.innerHTML=a.innerHTML+d.innerHTML,window.setTimeout(function(){readability.postProcessContent(a)},500),o&&readability.appendNextPage(o)}})}(e,t)},getClassWeight:function(e){if(!readability.flagIsActive(readability.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(-1!==e.className.search(readability.regexps.negative)&&(t-=25),-1!==e.className.search(readability.regexps.positive)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(-1!==e.id.search(readability.regexps.negative)&&(t-=25),-1!==e.id.search(readability.regexps.positive)&&(t+=25)),t},nodeIsVisible:function(e){return(0!==e.offsetWidth||0!==e.offsetHeight)&&"none"!==e.style.display.toLowerCase()},killBreaks:function(e){try{e.innerHTML=e.innerHTML.replace(readability.regexps.killBreaks,"<br />")}catch(t){dbg("KillBreaks failed - this is an IE bug. Ignoring.: "+t)}},clean:function(e,t){for(var a=e.getElementsByTagName(t),i="object"===t||"embed"===t,r=a.length-1;r>=0;r-=1){if(i){for(var n="",l=0,o=a[r].attributes.length;o>l;l+=1)n+=a[r].attributes[l].value+"|";if(-1!==n.search(readability.regexps.videos))continue;if(-1!==a[r].innerHTML.search(readability.regexps.videos))continue}a[r].parentNode.removeChild(a[r])}},cleanConditionally:function(e,t){if(readability.flagIsActive(readability.FLAG_CLEAN_CONDITIONALLY))for(var a=e.getElementsByTagName(t),i=a.length,r=i-1;r>=0;r-=1){var n=readability.getClassWeight(a[r]),l="undefined"!=typeof a[r].readability?a[r].readability.contentScore:0;if(dbg("Cleaning Conditionally "+a[r]+" ("+a[r].className+":"+a[r].id+")"+("undefined"!=typeof a[r].readability?" with score "+a[r].readability.contentScore:"")),0>n+l)a[r].parentNode.removeChild(a[r]);else if(readability.getCharCount(a[r],",")<10){for(var o=a[r].getElementsByTagName("p").length,d=a[r].getElementsByTagName("img").length,s=a[r].getElementsByTagName("li").length-100,c=a[r].getElementsByTagName("input").length,y=0,g=a[r].getElementsByTagName("embed"),p=0,m=g.length;m>p;p+=1)-1===g[p].src.search(readability.regexps.videos)&&(y+=1);var b=readability.getLinkDensity(a[r]),u=readability.getInnerText(a[r]).length,f=!1;d>o?f=!0:s>o&&"ul"!==t&&"ol"!==t?f=!0:c>Math.floor(o/3)?f=!0:25>u&&(0===d||d>2)?f=!0:25>n&&b>.2?f=!0:n>=25&&b>.5?f=!0:(1===y&&75>u||y>1)&&(f=!0),f&&a[r].parentNode.removeChild(a[r])}}},cleanHeaders:function(e){for(var t=1;3>t;t+=1)for(var a=e.getElementsByTagName("h"+t),i=a.length-1;i>=0;i-=1)(readability.getClassWeight(a[i])<0||readability.getLinkDensity(a[i])>.33)&&a[i].parentNode.removeChild(a[i])},easeInOut:function(e,t,a,i){var r=t-e;return(i/=a/2)<1?r/2*i*i+e:(i-=1,-r/2*(i*(i-2)-1)+e)},scrollTop:function(e){var t="undefined"!=typeof e;return t?window.scrollTo(0,e):"undefined"!=typeof window.pageYOffset?window.pageYOffset:document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop},curScrollStep:0,scrollTo:function(e,t,a,i){if(t>e&&readability.scrollTop()<t||e>t&&readability.scrollTop()>t){if(readability.curScrollStep+=1,readability.curScrollStep>a)return;var r=readability.scrollTop();if(readability.scrollTop(readability.easeInOut(e,t,a,readability.curScrollStep)),r===readability.scrollTop())return;window.setTimeout(function(){readability.scrollTo(e,t,a,i)},i)}},emailBox:function(){var e=document.getElementById("email-container");if(null===e){var t=document.createElement("DIV");t.setAttribute("id","email-container"),t.innerHTML='<iframe src="'+readability.emailSrc+"?pageUrl="+encodeURIComponent(window.location)+"&pageTitle="+encodeURIComponent(document.title)+'" scrolling="no" onload="readability.removeFrame()" style="width:500px; height: 490px; border: 0;"></iframe>',document.body.appendChild(t)}},removeFrame:function(){if(readability.iframeLoads+=1,readability.iframeLoads>3){var e=document.getElementById("email-container");null!==e&&e.parentNode.removeChild(e),readability.iframeLoads=0}},htmlspecialchars:function(e){return"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),e},flagIsActive:function(e){return(readability.flags&e)>0},addFlag:function(e){readability.flags=readability.flags|e},removeFlag:function(e){readability.flags=readability.flags&~e}};readability.init();